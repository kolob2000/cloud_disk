1. ssh root@81.200.146.120
2. apt update && apt upgrade
3. useradd -m -s /bin/bash -G sudo YOUR_NAME
Флаг -m создает домашний каталог, то есть в директории home появится директория mike
Флаг -s и путь до оболочки устанавливает для пользователя оболочку, которая будет доступна по умолчанию. Установим bash
Флаг -G позволяет сообщить системе в каких группах будет состоять пользователь. На данном этапе добавляем пользователя
в группу sudo, чтобы у него была возможность выполнять команды в системе с правами root-пользователя
4. passwd YOUR_NAME - задать пароль созданному пользователю
5. apt install ufw - установка брендмауера
   sudo ufw status verbose - проверка статуса брендмауера
   ufw app list - список  приложений доступных для управления в ufw
6. ufw allow ssh - разрешить входящие соеденения через ssh
7. ufw enable - включить ufw
    ufw status - посмотреть состояние ufw

 // сменим пользователя и отключим root

8. su - YOUR_NAME

// далле настраиваем ssh ключи для нашего нового пользователя

9. mkdir /home/YOUR_NAME/.ssh/ - создадим папку .ssh в домашнем каталоге нашего пользователя
10. sudo cp -r /root/.ssh/authorized_keys /home/mike/.ssh/authorized_keys - копируем ключ из root в нашу директорию
11. sudo chown YOUR_NAME /home/YOUR_NAME/.ssh/authorized_keys - сменим владельца скопираванного нами ключи с root на
        нашего нового пользователя

// теперь чтобы проверить нашего пользователя выдим из всех текущих сеансов вводим  exit пока не окажемся в домшней ОС
// далее заменим root нашем пользователем и войдем в систему по ssh
12. ssh YOUR_NAME@81.200.146.120
13.sudo nano /etc/ssh/sshd_config - отключим  root пользователя  для этого откроем в редакторе файл конфигурации и
изменим:
PermitRootLogin yes -> PermitRootLogin no
PasswordAuthentication yes -> PasswordAuthentication no
затем жмем ctrl-X,затем y и Enter.

14. sudo service ssh restart - перезапустить службу ssh
// все безопасность настроена можете попробывать войти под root


установка nginx - инструкция на сайте
установка certbot инструкция на сайте
устанвка pm2 инструкция на сайте
pm2 serve <path> <port> --spa для запуска single page aplication
pm2 startup - не забываем добавить строку которую нам напишет startup
pm2 save - добавляем наши приложения в автозапуск

установка postgesql - инструкция на сайте

настройка postgresql

1. sudo passwd postgres
2. su - postgres
3. psql
4. \password postgres
5. create user cloud with password 'Kolob_!1983';
6. create database express;
7. grant all privileges on database express to cloud;
7. \q
8. psql -h localhost express postgres
9. GRANT ALL ON SCHEMA public to cloud;
10.  psql -h localhost express cloud




